<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=x-mac-chinesetrad">
<meta name=Generator content="Microsoft Word 14 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:PMingLiU;
	panose-1:2 2 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:PMingLiU;
	panose-1:2 2 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Menlo Regular";}
@font-face
	{font-family:"\@SimSun";
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:"\@PMingLiU";
	panose-1:2 2 5 0 0 0 0 0 0 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:"Calibri","sans-serif";}
h1
	{mso-style-link:"\6A19\984C 1 \5B57\5143";
	margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:240%;
	page-break-after:avoid;
	font-size:20.0pt;
	font-family:"Calibri","sans-serif";
	font-weight:bold;}
h2
	{mso-style-link:"\6A19\984C 2 \5B57\5143";
	margin-top:13.0pt;
	margin-right:0in;
	margin-bottom:13.0pt;
	margin-left:0in;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:173%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Cambria","serif";
	font-weight:bold;}
h3
	{mso-style-link:"\6A19\984C 3 \5B57\5143";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:300%;
	page-break-after:avoid;
	font-size:18.0pt;
	font-family:"Cambria","serif";
	font-weight:bold;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:21.0pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:"Calibri","sans-serif";}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{mso-style-link:"\9801\9996 \5B57\5143";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	layout-grid-mode:char;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-link:"\9801\5C3E \5B57\5143";
	margin:0in;
	margin-bottom:.0001pt;
	layout-grid-mode:char;
	font-size:9.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{mso-style-link:"\6A19\984C \5B57\5143";
	margin-top:.25in;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	font-size:14.0pt;
	font-family:"Calibri","sans-serif";
	color:red;}
p.MsoSubtitle, li.MsoSubtitle, div.MsoSubtitle
	{mso-style-link:"\526F\6A19\984C \5B57\5143";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	text-align:center;
	font-size:12.0pt;
	font-family:"Cambria","serif";
	font-style:italic;}
p.MsoDate, li.MsoDate, div.MsoDate
	{mso-style-link:"\65E5\671F \5B57\5143";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:right;
	font-size:10.5pt;
	font-family:"Calibri","sans-serif";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p
	{margin-right:0in;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-link:"\8A3B\89E3\65B9\584A\6587\5B57 \5B57\5143";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";}
span.MsoPlaceholderText
	{color:gray;}
p.MsoNoSpacing, li.MsoNoSpacing, div.MsoNoSpacing
	{margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:"Calibri","sans-serif";}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:21.0pt;
	font-size:10.5pt;
	font-family:"Calibri","sans-serif";}
span.1
	{mso-style-name:"\6A19\984C 1 \5B57\5143";
	mso-style-link:"\6A19\984C 1";
	font-weight:bold;}
span.a
	{mso-style-name:"\9801\9996 \5B57\5143";
	mso-style-link:\9801\9996;}
span.a0
	{mso-style-name:"\9801\5C3E \5B57\5143";
	mso-style-link:\9801\5C3E;}
span.2
	{mso-style-name:"\6A19\984C 2 \5B57\5143";
	mso-style-link:"\6A19\984C 2";
	font-family:"Cambria","serif";
	font-weight:bold;}
span.a1
	{mso-style-name:"\526F\6A19\984C \5B57\5143";
	mso-style-link:\526F\6A19\984C;
	font-family:"Cambria","serif";
	font-style:italic;}
span.10
	{mso-style-name:\9BAE\660E\5F37\8ABF1;
	color:#4F81BD;
	font-weight:bold;
	font-style:italic;}
span.a2
	{mso-style-name:"\6A19\984C \5B57\5143";
	mso-style-link:\6A19\984C;
	font-family:"PMingLiU","serif";
	color:red;}
span.3
	{mso-style-name:"\6A19\984C 3 \5B57\5143";
	mso-style-link:"\6A19\984C 3";
	font-family:"Cambria","serif";
	font-weight:bold;}
span.a3
	{mso-style-name:"\65E5\671F \5B57\5143";
	mso-style-link:\65E5\671F;}
span.a4
	{mso-style-name:"\8A3B\89E3\65B9\584A\6587\5B57 \5B57\5143";
	mso-style-link:\8A3B\89E3\65B9\584A\6587\5B57;
	font-family:"Tahoma","sans-serif";}
span.apple-tab-span
	{mso-style-name:apple-tab-span;}
.MsoChpDefault
	{font-size:10.0pt;
	font-family:"Calibri","sans-serif";}
 /* Page Definitions */
 @page WordSection1
	{size:595.3pt 841.9pt;
	margin:42.55pt 42.55pt 42.55pt 42.55pt;
	layout-grid:15.6pt;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body bgcolor=white background="index.files/image001.gif" lang=EN-US link=blue
vlink=purple style='text-justify-trim:punctuation'>

<div class=WordSection1 style='layout-grid:15.6pt'>

<table class=MsoTableGrid border=0 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr style='height:27.0pt'>
  <td width=139 style='width:1.45in;padding:0in 5.4pt 0in 5.4pt;height:27.0pt'>
  <p class=MsoNormal><b><span style='font-size:20.0pt;font-family:"Times New Roman","serif"'><img
  width=134 height=44 id="¹Ï¤ù 1" src="index.files/image002.jpg"></span></b></p>
  </td>
  <td width=499 style='width:5.2in;padding:0in 5.4pt 0in 5.4pt;height:27.0pt'>
  <p class=MsoNormal><b><span style='font-size:20.0pt;font-family:"Times New Roman","serif";
  color:#17365D'>IOTC Platform Ver: <span class=MsoPlaceholderText><span
  style='color:#17365D'>[Comments]</span></span></span></b></p>
  </td>
 </tr>
</table>

<div style='border:none;border-bottom:solid #4F81BD 1.0pt;padding:0in 0in 4.0pt 0in'>

<p class=MsoTitle style='margin-top:0in;margin-right:0in;margin-bottom:15.0pt;
margin-left:0in;border:none;padding:0in'><a name="_Toc232569452"></a><a
name="_Toc350359151"></a><a name="_Toc223963708"><b><span style='font-size:
18.0pt;font-family:"Times New Roman","serif";color:#17365D;letter-spacing:.25pt'>-
AV Module AV IO Control V1.0</span></b></a></p>

</div>

<p class=MsoNormal><span style='font-size:9.0pt;font-family:"Times New Roman","serif"'>Copyright
(c) 2013 by Throughtek Co., Ltd. All Rights Reserved.</span></p>

<p class=MsoToc2><b><span style='font-family:"Times New Roman","serif";
color:#17365D;letter-spacing:.25pt'>- AV Module AV IO Control V1.0</span></b>............................................................................................................. 1</p>

<p class=MsoToc1>Revision History................................................................................................................................................. 2</p>

<p class=MsoToc1>Introduction...................................................................................................................................................... 3</p>

<p class=MsoToc1>Implementation................................................................................................................................................. 4</p>

<p class=MsoToc1>AV IO Control Message Type................................................................................................................................ 5</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_START (0x01FF)........................................................................................................... 5</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_STOP (0x02FF)............................................................................................................ 5</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_AUDIOSTART (0x0300)................................................................................................. 6</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_AUDIOSTOP (0x0301).................................................................................................. 6</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_SPEAKERSTART (0x350)................................................................................................ 6</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_SPEAKERSTOP (0x351)............................................................................................... 10</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_SETSTREAMCTRL_REQ (0x0320).................................................................................. 10</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_SETSTREAMCTRL_RESP (0x0321)................................................................................. 11</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_GETSTREAMCTRL_REQ (0x0322)................................................................................. 11</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_GETSTREAMCTRL_RESP (0x0323)................................................................................ 11</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_SETMOTIONDETECT_REQ<span style='font-size:
12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp; </span> (0x0324)....................................................................... 11</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_SETMOTIONDETECT_RESP (0x0325)............................................................................ 12</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_GETMOTIONDETECT_REQ (0x0326)............................................................................ 12</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_GETMOTIONDETECT_RESP (0x0327)........................................................................... 12</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_GETSUPPORTSTREAM_REQ (0x0328)........................................................................... 12</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_GETSUPPORTSTREAM_RESP (0x0329).......................................................................... 13</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_DEVINFO_REQ (0x0330)............................................................................................. 13</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_DEVINFO_RESP (0x0331)............................................................................................ 13</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_SETPASSWORD_REQ (0x0332)..................................................................................... 13</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_SETPASSWORD_RESP (0x0333).................................................................................... 14</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_LISTWIFIAP_REQ (0x0340).......................................................................................... 14</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_LISTWIFIAP_RESP (0x0341)......................................................................................... 14</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_SETWIFI_REQ (0x0342).............................................................................................. 15</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_SETWIFI_REQ2 (0x0346)............................................................................................ 15</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_SETWIFI_RESP (0x0343)............................................................................................. 16</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_GETWIFI_REQ (0x0344)............................................................................................. 16</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_GETWIFI_RESP (0x0345)............................................................................................ 16</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_GETWIFI_RESP2 (0x0347)........................................................................................... 16</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_SETRECORD_REQ (0x0310)......................................................................................... 16</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_SETRECORD_RESP (0x0311)........................................................................................ 17</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_GETRECORD_REQ (0x0312)........................................................................................ 17</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_GETRECORD_RESP (0x0313)....................................................................................... 17</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_SETRCD_DURATION_REQ (0x0314)............................................................................. 18</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_SETRCD_DURATION_RESP (0x0315)............................................................................ 18</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_GETRCD_DURATION_REQ (0x0316)............................................................................. 18</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_GETRCD_DURATION_RESP (0x0317)............................................................................ 18</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_LISTEVENT_REQ (0x0318).......................................................................................... 18</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_LISTEVENT_RESP (0x0319)......................................................................................... 18</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_RECORD_PLAYCONTROL (0x031A)............................................................................... 19</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_RECORD_PLAYCONTROL_RESP (0x031B)...................................................................... 20</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_SET_ENVIRONMENT_REQ (0x0360)............................................................................. 20</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_SET_ENVIRONMENT_RESP (0x0361)............................................................................ 20</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_GET_ENVIRONMENT_REQ (0x0362)............................................................................ 21</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_GET_ENVIRONMENT_RESP (0x0363)........................................................................... 21</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_SET_VIDEOMODE_REQ (0x0370)................................................................................ 21</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_SET_VIDEOMODE_RESP (0x0371)............................................................................... 22</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_GET_VIDEOMODE_REQ (0x0372)................................................................................ 22</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_GET_VIDEOMODE_RESP (0x0373)............................................................................... 22</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_FORMATEXTSTORAGE_REQ (0x0380)........................................................................... 22</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_FORMATEXTSTORAGE_RESP (0x0381).......................................................................... 23</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_GET_EVENTCONFIG_REQ (0x0400).............................................................................. 23</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_GET_EVENTCONFIG_RESP (0x0401)............................................................................. 23</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_SET_EVENTCONFIG_REQ (0x0402).............................................................................. 23</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_SET_EVENTCONFIG_RESP<span style='font-size:
12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp; </span> (0x0403)....................................................................... 23</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_PTZ_COMMAND (0x1001).......................................................................................... 23</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_EVENT_REPORT (0x1FFF)........................................................................................... 24</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_GETAUDIOOUTFORMAT_REQ (0x32A)......................................................................... 24</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_GETAUDIOOUTFORMAT_RESP (0x32B)........................................................................ 25</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_RECEIVE_FIRST_IFRAME (0x1002)............................................................................... 25</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_GET_FLOWINFO_REQ (0x390)..................................................................................... 25</p>

<p class=MsoToc2>IOTYPE_USER_IPCAM_GET_TIMEZONE_REQ (0x3A0)<br>
IOTYPE_USER_IPCAM_GET_TIMEZONE_RESP (0x3A1)<br>
IOTYPE_USER_IPCAM_SET_TIMEZONE_REQ (0x3B0)<br>
IOTYPE_USER_IPCAM_SET_TIMEZONE_RESP (0x3B1).................................................................................... 26</p>

<h1>Revision History</h1>

<p class=MsoNormal><span lang=X-NONE style='font-size:11.5pt'>V1.4 :</span></p>

<p class=MsoNormal style='background:white'><span lang=X-NONE style='font-size:
11.5pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-size:11.5pt;color:#222222'>Add new codec types - AAC, 711U, 711A.</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt;
background:white'><span style='font-size:11.5pt;color:#222222'>Modify Dropbox
struct SMsgAVIoctrlSetDropbox </span><span style='font-size:11.5pt;color:#222222'>from
</span><span style='font-size:11.5pt;color:#222222'>32 bytes </span><span
style='font-size:11.5pt;color:#222222'>to</span><span style='font-size:11.5pt;
color:#222222'> 128byes.</span></p>

<p class=MsoNormal><span style='font-size:11.0pt'>V1.3</span><span lang=ZH-TW
style='font-size:11.0pt;font-family:"PMingLiU","serif"'>¡G</span></p>

<p style='margin:0in;margin-bottom:.0001pt;text-align:justify;text-justify:
inter-ideograph'><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-size:11.5pt;font-family:"Calibri","sans-serif";color:black'>Add
TimeZone </span><span style='font-size:11.5pt;font-family:"Calibri","sans-serif";
color:black'>related message types.</span></p>

<p class=MsoNormal><span style='font-size:11.0pt'>V1.2</span><span lang=ZH-TW
style='font-size:11.0pt;font-family:"PMingLiU","serif"'>¡G</span></p>

<p style='margin:0in;margin-bottom:.0001pt;text-align:justify;text-justify:
inter-ideograph'><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-size:11.5pt;font-family:"Calibri","sans-serif";color:black'>Add a
new command to notify Device when Client receives the first I-Frame.</span></p>

<p class=MsoNormal><span class=apple-tab-span><span style='font-size:11.5pt;
color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-size:11.5pt;color:black'>Add a new command for Device to count
I-Frame and to gather information from Client.</span><span style='font-size:
11.0pt'> </span></p>

<p class=MsoNormal><span style='font-size:11.0pt'>V1.1</span><span lang=ZH-TW
style='font-size:11.0pt;font-family:"PMingLiU","serif"'>¡G</span></p>

<p style='margin:0in;margin-bottom:.0001pt;text-align:justify;text-justify:
inter-ideograph'><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-size:11.5pt;font-family:"Calibri","sans-serif";color:black'>Add a
new function to set Wifi (64bit password) and gets the decoding format of
communicating audio</span><span style='font-size:11.5pt;font-family:"Calibri","sans-serif";
color:black'>.</span></p>

<p style='margin:0in;margin-bottom:.0001pt;text-align:justify;text-justify:
inter-ideograph'><span class=apple-tab-span><span style='font-size:11.5pt;
font-family:"Calibri","sans-serif";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-size:11.5pt;font-family:"Calibri","sans-serif";color:black'>Add
descriptions for SWifiAp and STimeDay.</span></p>

<p class=MsoNormal><span class=apple-tab-span><span style='font-size:11.5pt;
color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-size:11.5pt;color:black'>Add a new type ¡§ENUM_AP_ENCTYPE¡¨</span><span
style='font-size:11.0pt'> </span></p>

<p class=MsoNormal><span style='font-size:11.0pt'>V1.0</span><span lang=ZH-TW
style='font-size:11.0pt;font-family:"PMingLiU","serif"'>¡G</span></p>

<p class=MsoNormal><span lang=X-NONE style='font-size:11.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-size:11.5pt;color:black'>Add new environment settings, formatting
external storage media,and &nbsp;image flip functions.</span></p>

<p class=MsoNormal><span lang=X-NONE style='font-size:11.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-size:11.5pt;color:black'>Update Audio Out Sample code.</span></p>

<h1>Introduction</h1>

<p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:11.5pt;
color:black'>AV IO Control is a set of API(Application Interface) used to send
or recieve some control commands, like to start/stop video streaming, or to set
the parameters of device</span></p>

<p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:11.0pt'>&nbsp;</span></p>

<p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:11.0pt'>Available
functions</span><span lang=ZH-TW style='font-size:11.0pt;font-family:"PMingLiU","serif"'>¡G</span></p>

<p style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:35.4pt;
margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph'><span
style='font-size:11.0pt;font-family:"Courier New"'>avSendIOCtrl(ÿ)</span><span
lang=ZH-TW style='font-size:11.0pt;font-family:"PMingLiU","serif"'>¡G</span><span
style='font-size:11.5pt;font-family:"Calibri","sans-serif";color:black'>Interface
of sending AVIOCTRL. </span><span style='font-size:11.5pt;font-family:"Calibri","sans-serif";
color:red'>It will block until receiving the response.</span></p>

<p class=MsoNormal style='margin-left:35.4pt;layout-grid-mode:char'><span
style='font-size:11.0pt;font-family:"Courier New"'>avRecvIOCtrl(ÿ)</span><span
lang=ZH-TW style='font-size:11.0pt;font-family:"PMingLiU","serif"'>¡G</span><span
style='font-size:11.5pt;color:black'>Interface of receiving AVIOCTRL.</span></p>

<p style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:35.4pt;
margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph'><span
style='font-size:11.0pt;font-family:"Courier New"'>avSendIOCtrlExit(ÿ)</span><span
style='font-size:11.0pt'>¡G</span><span style='font-size:11.5pt;font-family:
"Calibri","sans-serif";color:black'>As avSendIOCtrl() will block the threads,
we could call </span></p>

<p class=MsoNormal style='margin-left:35.4pt;layout-grid-mode:char'><span
style='font-size:11.5pt;color:black'>avSendIOCtrlExit() to eliminate the block
after the Sender does not yet receive the response from the Receiver.</span></p>

<p class=MsoNormal style='layout-grid-mode:char'>&nbsp;</p>

<p class=MsoNormal style='layout-grid-mode:char'>&nbsp;</p>

<p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:11.0pt'>AV
IO Control can only be used after one of the these functions avServStart(),
avServStart2(), avClientStart()being called successfully. Please refer to
&quot;AVIOCTRLDEFs.h&quot; for details</span></p>

<p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:12.0pt'>&nbsp;</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:42.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=684 valign=top style='width:513.0pt;border:dotted gray 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-left:93.0pt;text-indent:-93.0pt'><span
  style='font-size:9.0pt;font-family:"Courier New"'>int avSendIOCtrl(int
  nAVChannelID, unsigned int nIOCtrlType, char *abIOCtrlData, int
  nIOCtrlDataSize);</span></p>
  <p class=MsoNormal style='margin-left:93.0pt;text-indent:-93.0pt'><span
  style='font-size:9.0pt;font-family:"Courier New"'>int avRecvIOCtrl(int
  nAVChannelID, unsigned int *pnIOCtrlType, char *abIOCtrlData, int
  nIOCtrlMaxDataSize, unsigned int nTimeout); </span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  lang=ZH-TW style='font-size:9.0pt;font-family:"PMingLiU","serif"'>¡u</span><span
  style='font-size:9.0pt;font-family:"Courier New"'>nIOCtrlType</span><span
  lang=ZH-TW style='font-size:9.0pt;font-family:"PMingLiU","serif"'>¡v¡B¡u</span><span
  style='font-size:9.0pt;font-family:"Courier New"'>*pnIOCtrlType</span><span
  lang=ZH-TW style='font-size:9.0pt;font-family:"PMingLiU","serif"'>¡v</span><span
  style='font-size:9.0pt;font-family:"Courier New"'> are message types of AV IO
  Control</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  lang=ZH-TW style='font-size:9.0pt;font-family:"PMingLiU","serif"'>¡u</span><span
  style='font-size:9.0pt;font-family:"Courier New"'>abIOCtrlData</span><span
  lang=ZH-TW style='font-size:9.0pt;font-family:"PMingLiU","serif"'>¡v</span><span
  style='font-size:9.0pt;font-family:"Courier New"'>is data buffer for
  Sender/Recevier;</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  lang=ZH-TW style='font-size:9.0pt;font-family:"PMingLiU","serif"'>¡u</span><span
  style='font-size:9.0pt;font-family:"Courier New"'>nIOCtrlDataSize</span><span
  lang=ZH-TW style='font-size:9.0pt;font-family:"PMingLiU","serif"'>¡v¡B¡u</span><span
  style='font-size:9.0pt;font-family:"Courier New"'>nIOCtrlMaxDataSize</span><span
  lang=ZH-TW style='font-size:9.0pt;font-family:"PMingLiU","serif"'>¡v</span><span
  style='font-size:9.0pt;font-family:"Courier New"'> are the maximal size of
  buffer of Sender/Recevier.</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>

<b><span lang=X-NONE style='font-size:20.0pt;line-height:240%;font-family:"Calibri","sans-serif"'><br
clear=all style='page-break-before:always'>
</span></b>

<h1>Implementation</h1>

<p class=MsoNormal><span style='font-size:11.5pt;color:black'>We use
avSendIOCtrl() and avRecvIOCtrl() to communicate between Device and Client App.
It is not suggest to put avSendIOCtrl() and avRecvIOCtrl() in the same thread.
It is recommaned to put them in different threads as the following example:</span></p>

<p class=MsoNormal><span style='font-size:11.0pt'>&nbsp;</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=684 valign=top style='width:513.0pt;border:dotted windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>int *send_io_ctrl_loop(int avIndex) {</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; for(int i = 0; ; i++) {</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  char trash[] = &quot;\x00\x00\x00\x00&quot;;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int ret
  = avSendIOCtrl(avIndex, 0x318, trash, sizeof(trash) - 1);</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  printf(&quot;i = %d, avSendIOCtrl(): %d\n&quot;, i, ret);</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(ret
  &lt; 0) {</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  break;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; }</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; return NULL;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>void *recv_io_ctrl_loop(void* arg) {</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; int avIndex = *(int*)arg;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; for(int i = 0; ; ) {</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  unsigned int ioType;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char
  trash[1500];</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int ret
  = avRecvIOCtrl(avIndex, &amp;ioType, trash, sizeof(trash), 10000);</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(ret
  &lt; 0) {</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  printf(&quot;avRecvIOCtrl[%d][%d]\n&quot;,
  ret, avIndex);</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  break;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else {</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  switch (ioType) {</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  case ÿ:</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  default:</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  }</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  i++;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; }</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; return NULL;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>void *thread_SndIO(void *arg) {</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; int avIndex = *(int*)arg;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; char buf[768];</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; int ret = avSendIOCtrl(avIndex,
  0x318, buf, 32);</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; printf(&quot;avSendIOCtrl[%d]\n&quot;,
  ret);</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; pthread_exit(0);</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>int main(int argc, char **argv) {</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; const char UID[] =
  &quot;00000000000000000000&quot;;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; const int PORT = 40001 +
  getpid() % 1007;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; char master_list[][30] =
  {&quot;m1.iotcplatform.com&quot;, &quot;m2.iotcplatform.com&quot;,</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &quot;m3.iotcplatform.com&quot;, &quot;m4.iotcplatform.com&quot;};</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; int ret
  = IOTC_Initialize(PORT, master_list[0], master_list[1], master_list[2], </span></p>
  <p class=MsoNormal align=left style='text-align:left;text-indent:157.5pt;
  layout-grid-mode:char'><span style='font-size:9.0pt;font-family:"Courier New"'>master_list[3]);</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; if(ret != IOTC_ER_NoERROR) {</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  printf(&quot;IOTC_Initialize(): %d\n&quot;, ret);</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return
  1;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; }</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; avInitialize(1);</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; int SID = -1;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; for(time_t start = time(NULL);
  difftime(time(NULL), start) &lt; 30; ) {</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SID =
  IOTC_Connect_ByUID((char*)UID);</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(SID
  != -24 &amp;&amp; SID != -19) {</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  break;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; }</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;
  printf(&quot;IOTC_Connect_ByUID(): %d\n&quot;, SID);</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; if(SID &lt; 0) {</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  IOTC_DeInitialize();</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return
  1;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; }</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned long serv_type;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; int avIndex =
  avClientStart(SID, &quot;admin&quot;, &quot;password&quot;, 100,
  &amp;serv_type, 0);</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; printf(&quot;avClientStart():
  %d\n&quot;, avIndex);</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; if(avIndex &lt; 0) return 1;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned short val = 0;</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; int r =
  avSendIOCtrl(avIndex,IOTYPE_INNER_SND_DATA_DELAY,(char*)&amp;val,</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-indent:135.0pt;
  layout-grid-mode:char'><span style='font-size:9.0pt;font-family:"Courier New"'>sizeof(unsigned
  short));</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-indent:135.0pt;
  layout-grid-mode:char'><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='text-indent:.25in;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>pthread_t Thread_ID1,
  Thread_ID2, Thread_ID3;&nbsp;&nbsp;&nbsp; </span></p>
  <p class=MsoNormal style='text-indent:.25in;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>pthread_create(&amp;Thread_ID1,
  NULL, &amp;thread_SndIO, (void*)&amp;avIndex);</span></p>
  <p class=MsoNormal style='text-indent:.25in;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>pthread_detach(Thread_ID1);&nbsp; </span></p>
  <p class=MsoNormal style='text-indent:.25in;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>pthread_create(&amp;Thread_ID2,
  NULL, &amp;thread_SndIO, (void*)&amp;avIndex);</span></p>
  <p class=MsoNormal style='text-indent:.25in;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>pthread_detach(Thread_ID2);</span></p>
  <p class=MsoNormal style='text-indent:.25in;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>pthread_create(&amp;Thread_ID3,
  NULL, &amp;thread_SndIO, (void*)&amp;avIndex);</span></p>
  <p class=MsoNormal style='text-indent:.25in;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>pthread_detach(Thread_ID3);</span></p>
  <p class=MsoNormal style='text-indent:.25in;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>recv_io_ctrl_loop(&amp;avIndex);</span></p>
  <p class=MsoNormal style='text-indent:.25in;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>avClientStop(avIndex);</span></p>
  <p class=MsoNormal style='text-indent:.25in;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>IOTC_Session_Close(SID);</span></p>
  <p class=MsoNormal style='text-indent:.25in;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>return 0;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}</span></p>
  </td>
 </tr>
</table>

<h1><a name="_Toc232569456"><span lang=X-NONE>AV</span></a><span lang=X-NONE> </span><span
lang=X-NONE>IO</span> Control<span lang=X-NONE> Message Type</span></h1>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=12 height=3></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=587 height=143 src="index.files/image003.gif"
  alt="Note:&#13;&#10;IOTYPE_USER_xxxxxxxxxx_REQ¡Ais a request which is sent from sender.&#13;&#10;IOTYPE_USER_xxxxxxxxxx_RESP¡Ais a response which receiver reponse to a requrest from sender.¡C&#13;&#10;&#13;&#10;¬°¤F¸`¬Ùª©­±¡A¤U­±¤å¥ó´£¨ìªºIOCtrl §Y¬° AV IO Control¡C&#13;&#10;,!"></td>
 </tr>
</table>

 &nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoTitle>&nbsp;</p>

<br clear=ALL>

<p class=MsoTitle><a name="_Toc232569457"><span lang=X-NONE>IOTYPE_USER_IPCAM_START
(0x01FF)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from APP to IPCamera</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.5pt;color:black'>App requests IPCamera to send video
stream. The IOCtrl data isn't necessary. After IPCamera receives this message
by calling avRecvIOCtrl(), it can start to send video stream by calling
avSendFrameData().</span></p>

<p class=MsoTitle><a name="_Toc232569458"><span lang=X-NONE>IOTYPE_USER_IPCAM_STOP
(0x02FF)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from APP to IPCamera</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.5pt;color:black'>App requests IPCamera to stop video
stream. The IOCtrl data isn't necessary. After IPCamera receives this message
by calling avRecvIOCtrl(), it would stop sending video stream.</span></p>

<p class=MsoTitle><a name="_Toc232569459"><span lang=X-NONE>IOTYPE_USER_IPCAM_AUDIOSTART
(0x0300)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from APP to IPCamera</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.5pt;color:black'>App requests IPCamera to send audio
stream. The IOCtrl data isn't necessary. After IPCamera receives this message
by calling avRecvIOCtrl(), it can start to send audio stream by calling avSendAudioData().</span></p>

<p class=MsoTitle><a name="_Toc232569460"><span lang=X-NONE>IOTYPE_USER_IPCAM_AUDIOSTOP
(0x0301)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from APP to IPCamera</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;vertical-align:
baseline'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.5pt;color:black'>App requests IPCamera to stop audio
stream.The IOCtrl data isn't necessary. After IPCamera receives this message by
calling avRecvIOCtrl(), it would stop sending audio stream.</span></p>

<p class=MsoTitle><a name="_Toc232569461"><span lang=X-NONE>IOTYPE_USER_IPCAM_SPEAKERSTART
(0x350)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from APP to IPCamera</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.5pt;color:black'>App notifies IPCamera that the audio
stream of speaker will be sent to IPCamera. The attached data IOCtrl is the
channel number. The IOCtrl data is the channel number</span><span
style='font-size:11.0pt'>.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.5pt;color:black'>After IPCamera receives this message by
calling avRecvIOCtrl(), it must follow the flowchart to receive the audio data.</span></p>

<p class=MsoNormal align=center style='margin-left:45.0pt;text-align:center;
layout-grid-mode:char'><img width=185 height=307 id="Picture 1"
src="index.files/image004.jpg"></p>

<p class=MsoNormal align=center style='margin-left:45.0pt;text-align:center;
layout-grid-mode:char'>&nbsp;</p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Pseudo Code:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=684 valign=top style='width:513.05pt;border:dotted gray 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b><span style='font-size:20.0pt'>App side:</span></b><span
  style='font-size:11.0pt'>&nbsp;&nbsp; </span></p>
  <p class=MsoNormal><b><span style='font-size:9.0pt'>When user press the
  ¡§speech¡¨ button, the thread will begin to execute:</span></b></p>
  <p class=MsoNormal style='margin-left:0in;text-indent:-.25in'><span
  style='font-size:9.0pt;font-family:"Courier New"'>1&gt;<span
  style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
  style='font-size:9.0pt;font-family:"Courier New"'>void *ThreadSendSpeechAudio(void
  *arg)</span></p>
  <p class=MsoNormal style='margin-left:0in;text-indent:-.25in'><span
  style='font-size:9.0pt;font-family:"Courier New"'>2&gt;<span
  style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
  style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>int nChSpeech = 1;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-indent:.25in'><span
  style='font-size:9.0pt;font-family:"Courier New"'>avSendIOCtrl(m_nAVIndex,</span><span
  style='font-size:9.0pt;font-family:"Courier New"'> </span><span
  style='font-size:9.0pt;font-family:"Courier New"'>IOTYPE_USER_IPCAM_SPEAKERSTART,(char*)&amp;nChSpeech,
  4);</span></p>
  <p class=MsoNormal style='margin-left:0in;text-indent:-.25in'><span
  style='font-size:9.0pt;font-family:"Courier New"'>3&gt;<span
  style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>int avIndex = -1;&nbsp; // avIndex for Speech
  Channel</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>char buffer[320];</span><span style='font-size:
  9.0pt;font-family:"Courier New"'> </span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>char out_buff[1024];</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>short *pbuffer = (short *)buffer;</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>FRAMEINFO_t framInfo;</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>memset(buffer,0,sizeof(buffer));</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>memset(out_buff, 0, sizeof(out_buff));</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>memset(&amp;framInfo, 0 , sizeof(FRAMEINFO_t));</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>while(m_bIsRunning &amp;&amp; ((avIndex = avServStart(m_nSID,null,null,60,0,1))
  &lt; 0);</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>// init microphone here ÿ</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>// init speex encoder hereÿ</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>int nLen = 0;</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>framInfo.codec_id = MEDIA_CODEC_AUDIO_SPEEX;</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>framInfo.flags=</span> <span style='font-size:
  9.0pt;font-family:"Courier New"'>(<i>samplerate</i> &lt;&lt; 2) | (<i>databits</i>
  &lt;&lt; 1) | (<i>channel</i>);</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>framInfo.cam_index = 0;</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>framInfo.onlineNum = 0;</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>//send audio data continuously</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>while(m_bIsRunning){</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='text-indent:.5in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>// get speaker data -&gt; pbuffer</span></p>
  <p class=MsoNormal style='text-indent:.5in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>// get speaker data length -&gt; nReadBytes</span></p>
  <p class=MsoNormal style='text-indent:.5in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>if(nReadBytes &gt; 0)</span></p>
  <p class=MsoNormal style='text-indent:.5in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='text-indent:.75in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>nLen = SpeexEncode(pbuffer, nReadBytes, out_buff);</span></p>
  <p class=MsoNormal style='text-indent:.75in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>framInfo.timestamp = GetTickCount();</span></p>
  <p class=MsoNormal style='text-indent:.75in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>avSendAudioData(avIndex, out_buff, nLen,
  frameInfo, sizeof(FRAMEINFO_t));</span></p>
  <p class=MsoNormal style='text-indent:.5in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>// release speex encoder here ÿ</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>// release microphone resource here ÿ</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>if(avIndex &gt;= 0) avServStop(avIndex);</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>}</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='margin-left:0in;text-indent:-15.0pt'><span
  style='font-size:9.0pt;font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><b><span style='font-size:9.0pt'>Which user click the ¡§Stop¡¨
  button on App:</span></b></p>
  <p class=MsoNormal style='margin-left:0in;text-indent:-.25in'><span
  style='font-size:9.0pt;font-family:"Courier New"'>1&gt;<span
  style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
  style='font-size:9.0pt;font-family:"Courier New"'>void stopThreadSpeech()</span></p>
  <p class=MsoNormal style='margin-left:0in;text-indent:-.25in'><span
  style='font-size:9.0pt;font-family:"Courier New"'>2&gt;<span
  style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
  style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>int nChSpeech=1;</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>avSendIOCtrl(m_nAVIndex,</span><span
  style='font-size:9.0pt;font-family:"Courier New"'> </span><span
  style='font-size:9.0pt;font-family:"Courier New"'>IOTYPE_USER_IPCAM_SPEAKERSTOP,
  (char *)&amp;nChpeech, 4);</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>m_bIsRunning=false;</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>if(</span><span style='font-size:9.0pt;font-family:
  "Courier New"'>m_nSID </span><span style='font-size:9.0pt;font-family:"Courier New"'>&gt;=
  0) avServExit(</span><span style='font-size:9.0pt;font-family:"Courier New"'>m_nSID</span><span
  style='font-size:9.0pt;font-family:"Courier New"'>,&nbsp; nChSpeech);</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>ThreadSendSpeechAudio.join();</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>}</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal><b><span style='font-size:20.0pt'>IPCamera side:</span></b></p>
  <p class=MsoNormal style='margin-left:0in;text-indent:-15.0pt'><span
  style='font-size:9.0pt;font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><span style='font-size:9.0pt;font-family:"Courier New"'>In
  order to play audio correctly on App, you should initialize the audio device
  and set the parameter Speex.</span></p>
  <p class=MsoNormal style='margin-left:0in;text-indent:-15.0pt'><span
  style='font-size:9.0pt;font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><span style='font-size:9.0pt;font-family:"Courier New"'>typedef
  struct _AudioIn</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; int
  SID;</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; int
  ch;</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; int
  avIndex;</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  long srvType;</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; int
  dspFd;</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>}AudioIn;</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='margin-left:0in;text-indent:-.25in'><span
  style='font-size:9.0pt;font-family:"Courier New"'>4&gt;<span
  style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
  style='font-size:9.0pt;font-family:"Courier New"'>void *ThreadRecvSpeechAudio(void
  *arg)</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;
  AudioIn audioIn = *(AudioIn *)arg;</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>int avIndex = 0;</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;
  int ret = 0;</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;
  char buf[BUFF_FOR_AUDIO];</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;
  FRAMEINFO_t frameInfo;</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; while(audioIn.SID &gt;= 0
  &amp;&amp; (avIndex = avClientStart(audioIn.SID, NULL, NULL, 60,
  &amp;audioIn.srvType, audioIn.ch)) &gt;= 0);</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;
  </span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;
  while (audioIn.SID &gt;= 0)</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;
  {</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;ret = avRecvAudioData(avIndex, buf, BUFF_FOR_AUDIO,
  (char*)&amp;frameInfo, 16);</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;if(ret &gt;= 0)</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;{</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;// Puts buff into sound card.</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;}</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;
  }</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;
  pthread_exit(0);</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>}</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>void
  start_receive_audio(int </span><span style='font-size:9.0pt;font-family:"Courier New"'>SID</span><span
  style='font-size:9.0pt;font-family:"Courier New"'>, int channel)</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;
  int i;</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;
  for(i = 0; I &lt; MAX_CLIENT_NUMBER; i++)</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; if(gAudioIn[i].SID == SID)</span></p>
  <p class=MsoNormal style='text-indent:.5in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='text-indent:.5in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; gAudioIn[i].ch = channel;</span></p>
  <p class=MsoNormal style='text-indent:.5in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='text-indent:.5in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; // create a thread.</span></p>
  <p class=MsoNormal style='text-indent:.5in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; pthread_t </span><span
  style='font-size:9.0pt;font-family:"Courier New"'>ThreadRecvSpeechAudio_ID;</span></p>
  <p class=MsoNormal style='text-indent:.5in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; pthread_create(&amp;ThreadRecvSpeechAudio_ID,
  NULL, &amp; ThreadRecvSpeechAudio, (void *)gAudioIn[i]);</span></p>
  <p class=MsoNormal style='text-indent:.5in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; pthread_detach(ThreadRecvSpeechAudio_ID);</span></p>
  <p class=MsoNormal style='text-indent:.5in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>}</span></p>
  <p class=MsoNormal style='margin-left:0in;text-indent:-15.0pt'><span
  style='font-size:9.0pt;font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><span style='font-size:9.0pt;font-family:"Courier New"'>void
  ReleaseAudioIn(int SID)</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>int i = 0;</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>//It allows numbers up to ¡§MAX_CLIENT_NUMBER¡¨ App
  connect to IPCamera.</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>for(i = 0; i &lt; MAX_CLIENT_NUMBER; i++)</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='text-indent:.5in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>if(gAudioIn[i].SID == SID)</span></p>
  <p class=MsoNormal style='text-indent:.5in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='text-indent:54.05pt'><b><span style='font-size:
  9.0pt;font-family:"Courier New"'>avClientStop</span></b><span
  style='font-size:9.0pt;font-family:"Courier New"'>(gAudioIn[i].avIndex);</span></p>
  <p class=MsoNormal style='text-indent:.75in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>gAudioIn[i].SID = -1;</span></p>
  <p class=MsoNormal style='text-indent:.75in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>close_dsp(gAudioIn[i].dspFd); //Close the audio
  file according to the SID.</span></p>
  <p class=MsoNormal style='text-indent:.75in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>gAudioIn[i].dspFd = -1;</span></p>
  <p class=MsoNormal style='text-indent:.75in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>break;</span></p>
  <p class=MsoNormal style='text-indent:.5in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>}</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>//
  This device-sided thread receives IOCtrl.</span></p>
  <p class=MsoNormal style='margin-left:0in;text-indent:-15.0pt'><span
  style='font-size:9.0pt;font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><span style='font-size:9.0pt;font-family:"Courier New"'>void *ThreadRecvIOCtrl(void
  *arg)</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>int ret = 0;</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>unsigned int ioType;</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>char ioCtrlBuf[MAX_SIZE_IOCTRL_BUF]; //
  MAX_SIZE_IOCTRL_BUF = 1024</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>ÿÿ</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>while(1)</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='text-indent:.5in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>ret = avRecvIOCtrl(</span><span style='font-size:
  9.0pt;font-family:"Courier New"'>m_nAVIndex</span><span style='font-size:
  9.0pt;font-family:"Courier New"'>, &amp;ioType, (char*)&amp;ioCtrlBuf,</span><span
  style='font-size:9.0pt;font-family:"Courier New"'> </span><span
  style='font-size:9.0pt;font-family:"Courier New"'>MAX_SIZE_IOCTRL_BUF, 1000);</span></p>
  <p class=MsoNormal style='text-indent:.5in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>if(ret &gt; 0)</span></p>
  <p class=MsoNormal style='text-indent:.5in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='text-indent:.75in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>switch(ioType)</span></p>
  <p class=MsoNormal style='text-indent:.75in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='text-indent:.75in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>case <b>IOTYPE_USER_IPCAM_SPEAKERSTART:</b></span></p>
  <p class=MsoNormal style='text-indent:.75in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='text-indent:1.0in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>SMsgAVIoctrlAVStream *p = (SMsgAVIoctrlAVStream
  *)buf;</span></p>
  <p class=MsoNormal style='text-indent:72.05pt'><b><span style='font-size:
  9.0pt;font-family:"Courier New"'>start_receive_audio</span></b><span
  style='font-size:9.0pt;font-family:"Courier New"'>(</span><span
  style='font-size:9.0pt;font-family:"Courier New"'>m_nSID</span><span
  style='font-size:9.0pt;font-family:"Courier New"'>, p-&gt;channel);</span></p>
  <p class=MsoNormal style='text-indent:.75in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}</span></p>
  <p class=MsoNormal style='text-indent:.75in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>break;</span></p>
  <p class=MsoNormal style='text-indent:.75in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>case IOTYPE_USER_IPCAM_SPEAKERSTOP:</span></p>
  <p class=MsoNormal style='text-indent:.75in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='text-indent:72.05pt'><b><span style='font-size:
  9.0pt;font-family:"Courier New"'>ReleaseAudioIn</span></b><span
  style='font-size:9.0pt;font-family:"Courier New"'>(</span><span
  style='font-size:9.0pt;font-family:"Courier New"'>m_nSID</span><span
  style='font-size:9.0pt;font-family:"Courier New"'>);</span></p>
  <p class=MsoNormal style='text-indent:.75in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}</span></p>
  <p class=MsoNormal style='text-indent:.75in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>break;</span></p>
  <p class=MsoNormal style='text-indent:.75in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>ÿÿ</span></p>
  <p class=MsoNormal style='text-indent:.75in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>default:;</span></p>
  <p class=MsoNormal style='text-indent:.5in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}</span></p>
  <p class=MsoNormal style='text-indent:.25in'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='layout-grid-mode:char'>&nbsp;</p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:12.0pt'>Note:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:47.95pt;background:#DBE5F1;border-collapse:collapse;
 border:none'>
 <tr>
  <td width=593 valign=top style='width:444.75pt;border:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='color:red'>TUTK app is using tunnel 1</span>
  to send audio stream to device.</p>
  <p class=MsoNormal style='text-indent:21.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Parameters:</p>
  <p class=MsoNormal style='text-indent:21.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Audio
  Codec<span lang=ZH-TW style='font-family:"PMingLiU","serif"'>¡G</span>Speex(default)
  or ADPCM, depends on AVAPI Service Type.</p>
  <p class=MsoNormal style='text-indent:21.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SampleRate<span
  lang=ZH-TW style='font-family:"PMingLiU","serif"'>¡G</span>8KHz</p>
  <p class=MsoNormal style='text-indent:21.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Data
  bit<span lang=ZH-TW style='font-family:"PMingLiU","serif"'>¡G</span>16Bit</p>
  <p class=MsoNormal style='text-indent:21.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Channel<span
  lang=ZH-TW style='font-family:"PMingLiU","serif"'>¡G</span>Mono</p>
  <p class=MsoNormal>Therefore, in <b>avClientStart</b>(int nSID,char *viewAcc,
  char *viewPwd,</p>
  <p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; unsigned
  long timeout_sec, unsigned long *pservType,<span style='font-size:7.5pt'> </span><span
  style='color:red'>unsigned char ChID</span>) on IPCamera,<span
  style='color:red'> ChID=1</span>.</p>
  <p class=MsoNormal>Furthermore, if viewAcc = null, viewPwd = null, then it is
  not necessary to authenticate.</p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569462"><span lang=X-NONE>IOTYPE_USER_IPCAM_SPEAKERSTOP
(0x351)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from APP to IPCamera</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>App requests IPCamera to stop talking. IPCamera should
stop handling audio stream and call avClientStop() to close the channel when it
receives this message.</span></p>

<p class=MsoTitle><a name="_Toc232569463"><span lang=X-NONE>IOTYPE_USER_IPCAM_SETSTREAMCTRL_REQ
(0x0320)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from APP to IPCamera</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>App requests IPCamera to set the quality of video. When
IPCamera receives the message through IOCtrl, IPCamera should set the quality
of video according to received information.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=684 valign=top style='width:513.05pt;border:dotted gray 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>typedef
  struct</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  int channel; // Camera Index</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char quality;<b> //</b> refer to ENUM_QUALITY_LEVEL</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char reserved[3];</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>}
  SMsgAVIoctrlSetStreamCtrlReq;</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>/*
  AVIOCTRL Quality Type */</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>typedef
  enum</span><span style='font-size:9.0pt;font-family:"Courier New"'> </span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_QUALITY_UNKNOWN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x00, </span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_QUALITY_MAX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x01, &nbsp;&nbsp;&nbsp; //640*480, 30fps, bit rate not limited</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_QUALITY_HIGH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x02, &nbsp;&nbsp;&nbsp; //640*480, 15fps, 512kbps</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_QUALITY_MIDDLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x03, &nbsp;&nbsp;&nbsp; //320*240, 15fps, 256kbps</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_QUALITY_LOW&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x04,&nbsp;&nbsp;&nbsp;&nbsp; //320*240, 10fps, 128kbps</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_QUALITY_MIN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x05,&nbsp;&nbsp;&nbsp;&nbsp; //160*120, 10fps, 64kbps</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>}ENUM_QUALITY_LEVEL;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569464"><span lang=X-NONE>IOTYPE_USER_IPCAM_SETSTREAMCTRL_RESP
(0x0321)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from IPCamera to App.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>IPCamera responds the result to App for
¡§IOTYPE_USER_IPCAM_SETSTREAMCTRL_REQ¡¨.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Stucture of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=684 valign=top style='width:513.0pt;border:dotted gray 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>typedef
  struct</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  int result; // 0: success; otherwise: failed.</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char reserved[4];</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>}
  SMsgAVIoctrlGetStreamCtrlResq;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569465"><span lang=X-NONE>IOTYPE_USER_IPCAM_GETSTREAMCTRL_REQ
(0x0322)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from App to IPCamera.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>App requests IPCamera to receive data of video
quality. IOCtrl is not necessary.</span></p>

<p class=MsoTitle><a name="_Toc232569466"><span lang=X-NONE>IOTYPE_USER_IPCAM_GETSTREAMCTRL_RESP
(0x0323)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from IPCamera to App.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>IPCamera responds the result of
¡§IOTYPE_USER_IPCAM_GETSTREAMCTRL_REQ¡¨ to App.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl refers to
¡§SMsgAVIoctrlGetStreamCtrlResq¡¨.</span></p>

<p class=MsoTitle><a name="_Toc232569467"><span lang=X-NONE>IOTYPE_USER_IPCAM_SETMOTIONDETECT_REQ</span><span
lang=X-NONE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></a><span lang=X-NONE>
(0x0324)</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from APP to IPCamera</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>App requests IPCamera to set sensitivity of motion
detection. IPCamera set sensitivity of motion detection according the
information in IOCtrl.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=684 valign=top style='width:513.0pt;border:dotted gray 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>typedef
  struct</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  int channel;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Camera Index</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  int sensitivity; // 0 (Disabled) ~ 100(MAX):</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;
  // Index in App.  Sensitivity value</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;
  // 0&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  0</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;
  // 1&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  25</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;
  // 2&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  50</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;
  // 3&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  75</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;
  // 4&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  100</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}SMsgAVIoctrlSetMotionDetectReq,
  SMsgAVIoctrlGetMotionDetectResp;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569468"><span lang=X-NONE>IOTYPE_USER_IPCAM_SETMOTIONDETECT_RESP
(0x0325)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from IPCamera to App.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>IPCamera responds the result of ¡§IOTYPE_USER_IPCAM_SETMOTIONDETECT_REQ¡¨
to App.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=635 valign=top style='width:476.0pt;border:dotted gray 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; int result;&nbsp; // 0:
  success; otherwise: failed.</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned char reserved[4];</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}SMsgAVIoctrlSetMotionDetectResp;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569469"><span lang=X-NONE>IOTYPE_USER_IPCAM_GETMOTIONDETECT_REQ
(0x0326)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from APP to IPCamera.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>App requests IPCamera to receive the sensitivity of
motion detection. IOCtrl is not necessary.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0 width=620
 style='width:464.7pt;margin-left:42.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=620 valign=top style='width:464.7pt;border:dotted gray 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned &nbsp;int </span>&nbsp;<span
  style='font-size:9.0pt;font-family:"Courier New"'>channel; // Camera Index</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned char reserved[4];</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}</span> <span style='font-size:9.0pt;font-family:
  "Courier New"'>SMsgAVIoctrlGetMotionDetectReq;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569470"><span lang=X-NONE>IOTYPE_USER_IPCAM_GETMOTIONDETECT_RESP
(0x0327)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message is sent from IPCamera to App.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>IPCamera sets sensitivity then responds the result of
¡§IOTYPE_USER_IPCAM_GETMOTIONDETECT_REQ¡¨ to App.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl refers to ¡§</span><span
style='font-size:11.0pt;font-family:"Courier New"'>SMsgAVIoctrlGetMotionDetectResp¡¨
above.</span></p>

<p class=MsoTitle><a name="_Toc232569471"><span lang=X-NONE>IOTYPE_USER_IPCAM_</span></a><span
lang=X-NONE>GETSUPPORTSTREAM_REQ</span><span lang=X-NONE> (0x03</span><span
lang=X-NONE>28</span><span lang=X-NONE>)</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from APP to IPCamera</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>App requests IPCamera to receive the video stream type
which is supported by device.</span></p>

<p class=MsoTitle><a name="_Toc232569472"><span lang=X-NONE>IOTYPE_USER_IPCAM_GETSUPPORTSTREAM_RE</span></a><span
lang=X-NONE>SP</span><span lang=X-NONE> (0x032</span><span lang=X-NONE>9</span><span
lang=X-NONE>)</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from IPCamera to App.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>After IPCamera receives
¡§IOTYPE_USER_IPCAM_GETSUPPORTSTREAM_RESP¡¨, IPCamera fills all the types which
is supported into IOCtrl and return it to App.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=684 valign=top style='width:513.0pt;border:dotted windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned short index;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
  the stream index of camera</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned short channel;&nbsp;&nbsp;&nbsp;&nbsp; //
  the channel index used in AVAPIs</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; char reserved[4];</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}SStreamDef;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned int number; &nbsp;&nbsp; //
  the quantity of supported stream</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; SStreamDef streams[0];</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}SMsgAVIoctrlGetSupportStreamResp;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569473"><span lang=X-NONE>IOTYPE_USER_IPCAM_DEVINFO_REQ
(0x0330)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from APP to IPCamera</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>App requests IPCamera to receive the information of
manufacturer. IOCtrl is not necessary.</span></p>

<p class=MsoTitle><a name="_Toc232569474"><span lang=X-NONE>IOTYPE_USER_IPCAM_DEVINFO_RESP
(0x0331)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message is sent from IPCamera to App.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>After IPCamera receives
¡§IOTYPE_USER_IPCAM_DEVINFO_REQ¡¨, it fills the information of manufacturer into
IOCtrl and return it to App.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=684 valign=top style='width:513.0pt;border:dotted gray 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned char model[16];&nbsp;&nbsp;&nbsp; </span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned char vendor[16];&nbsp;&nbsp; </span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned int version;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned int channel; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //reserve</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned int total; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  // MBytes, total space size for sdcard</span><span style='font-size:9.0pt;
  font-family:"Courier New"'> </span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned int free;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  // MBytes , free space size for sdcard</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned char
  reserved[8];</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>}SMsgAVIoctrlDeviceInfoResp;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569475"><span lang=X-NONE>IOTYPE_USER_IPCAM_SETPASSWORD_REQ
(0x0332)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from APP to IPCamera</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>App requests IPCamera to set the password of IPCamera.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=684 valign=top style='width:513.0pt;border:dotted gray 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; char oldpasswd[32]; //old
  password</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; char newpasswd[32]; //new
  password</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>}SMsgAVIoctrlSetPasswdReq;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569476"><span lang=X-NONE>IOTYPE_USER_IPCAM_SETPASSWORD_RESP
(0x0333)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message is sent from IPCamera to App.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>IPCamera responds the result for
¡§IOTYPE_USER_IPCAM_SETPASSWORD_REQ¡¨ to App after the old password was matched and
new password was updated successfully.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=684 valign=top style='width:513.0pt;border:dotted gray 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>typedef
  struct{</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; int
  result; //0x00 set password successfully,&nbsp; or not failed</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char reserved[4];</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>}SMsgAVIoctrlSetPasswdResp;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569477"><span lang=X-NONE>IOTYPE_USER_IPCAM_LISTWIFIAP_REQ
(0x0340)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from APP to IPCamera.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>App requests IPCamera to list all the Wifi it find.
IOCtrl is not necessary.</span></p>

<p class=MsoTitle><a name="_Toc232569478"><span lang=X-NONE>IOTYPE_USER_IPCAM_LISTWIFIAP_RESP
(0x0341)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from IPCamera to App.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>IP Camera responds the result to App by command </span><span
lang=ZH-TW style='font-size:11.0pt;font-family:"PMingLiU","serif"'>¡u</span><span
style='font-size:11.0pt;font-family:"Courier New"'>IOTYPE_USER_IPCAM_LISTWIFIAP_REQ</span><span
lang=ZH-TW style='font-size:11.0pt;font-family:"PMingLiU","serif"'>¡v</span><span
style='font-size:11.0pt'>.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=684 valign=top style='width:513.0pt;border:dotted gray 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned int number; //
  MAX: 1024/36=28</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; SWifiAp stWifiAp[0]; //</span><span
  style='font-size:9.0pt;font-family:"Courier New"'>stored the start address
  for all WiFi information</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-indent:135.0pt'><span
  style='font-size:9.0pt;font-family:"Courier New"'>//use sizeof(SWifiAp) bytes
  to get WiFi data.</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>}SMsgAVIoctrlListWifiApResp;</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; char ssid[32];&nbsp; //the
  SSID of WiFi</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; char mode;&nbsp;&nbsp; &nbsp;&nbsp; //refer
  to ENUM_AP_MODE</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; char enctype;&nbsp;&nbsp; //Encryption
  to WiFi, refer to ENUM_AP_ENCTYPE.</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; char signal;&nbsp;&nbsp;&nbsp; //
  signal strength, ranged from 0% to 100%.</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; char status;&nbsp;&nbsp;  //
  0 : invalid ssid or disconnected</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
  1 : connected with default gateway</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
  2 : unmatched password</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
  3 : weak signal and connected</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
  4 : selected:</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -
  password matched and</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -
  disconnected or connected but not default gateway</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>}SWifiAp;</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>typedef enum</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOTC_WIFIAPMODE_NULL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x00,</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOTC_WIFIAPMODE_MANAGED&nbsp;&nbsp; =
  0x01,</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOTC_WIFIAPMODE_ADHOC =
  0x02,</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>}ENUM_AP_MODE;</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>typedef enum</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOTC_WIFIAPENC_INVALID&nbsp;&nbsp;&nbsp; =
  0x00,</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOTC_WIFIAPENC_NONE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x01,</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOTC_WIFIAPENC_WEP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x02, //WEP, for no password</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOTC_WIFIAPENC_WPA_TKIP&nbsp;&nbsp; =
  0x03,</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOTC_WIFIAPENC_WPA_AES&nbsp;&nbsp;&nbsp; =
  0x04,</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOTC_WIFIAPENC_WPA2_TKIP&nbsp; =
  0x05,</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOTC_WIFIAPENC_WPA2_AES&nbsp;&nbsp; =
  0x06,</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; </span><span
  style='font-size:9.0pt;font-family:"Courier New"'>AVIOTC_WIFIAPENC_WPA_PSK_TKIP&nbsp;&nbsp; =
  0x07,</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; </span><span
  style='font-size:9.0pt;font-family:"Courier New"'>AVIOTC_WIFIAPENC_WPA_PSK_AES&nbsp;&nbsp;&nbsp; =
  0x08,</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; </span><span
  style='font-size:9.0pt;font-family:"Courier New"'>AVIOTC_WIFIAPENC_WPA2_PSK_TKIP&nbsp; =
  0x09,</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; </span><span
  style='font-size:9.0pt;font-family:"Courier New"'>AVIOTC_WIFIAPENC_WPA2_PSK_AES&nbsp;&nbsp; =
  0x0A,</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>}ENUM_AP_ENCTYPE;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569479"><span lang=X-NONE>IOTYPE_USER_IPCAM_SETWIFI_REQ
(0x0342)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from APP to IPCamera</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>App requests IPCamera to connect to the SSID of WiFi.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=635 valign=top style='width:476.0pt;border:dotted gray 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>typedef
  struct</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char ssid[32];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
  the WiFi SSID to connect</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char password[32];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // WiFi SSID password</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char
  mode;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  // refer to </span><span style='font-size:9.0pt;font-family:"Courier New"'>ENUM_AP_MODE</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char
  enctype;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
  refer to </span><span style='font-size:9.0pt;font-family:"Courier New"'>ENUM_AP_ENCTYPE</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char reserved[10];</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>}SMsgAVIoctrlSetWifiReq;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569480"><span lang=X-NONE>IOTYPE_USER_IPCAM_SETWIFI_REQ2
(0x0346)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from APP to IPCamera</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>App requests IPCamera to connect the SSID of the WiFi.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Same as IOTYPE_USER_IPCAM_SETWIFI_REQ (0x0342), but
support 64bit password.</span><span lang=ZH-TW style='font-size:11.0pt;
font-family:"PMingLiU","serif"'>¡C</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=635 valign=top style='width:476.0pt;border:dotted gray 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>typedef
  struct</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char ssid[32];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
  the WiFi SSID to connect</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char password[<b>64</b>];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // WiFi SSID password</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char
  mode;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  // refer to </span><span style='font-size:9.0pt;font-family:"Courier New"'>ENUM_AP_MODE</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char
  enctype;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
  refer to </span><span style='font-size:9.0pt;font-family:"Courier New"'>ENUM_AP_ENCTYPE</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char reserved[10];</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>}SMsgAVIoctrlSetWifiReq2;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoTitle><a name="_Toc232569481"><span lang=X-NONE>IOTYPE_USER_IPCAM_SETWIFI_RESP
(0x0343)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message is sent from IPCamera to App.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>IPCamera responds the result for command ¡§</span><span
style='font-size:11.0pt;font-family:"Courier New"'>IOTYPE_USER_IPCAM_SETWIFI_REQ</span><span
style='font-size:11.0pt'>¡¨ or ¡§</span><span style='font-size:11.0pt;font-family:
"Courier New"'>IOTYPE_USER_IPCAM_SETWIFI_REQ2</span><span style='font-size:
11.0pt'>¡¨.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl</span><span style='font-size:11.0pt;
font-family:"Courier New"'>:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=684 valign=top style='width:513.0pt;border:dotted gray 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; int
  result;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  //return 0 if WiFi connected, otherwise return 1.</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned char
  reserved[4];</span></p>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  9.0pt;font-family:"Courier New"'>}SMsgAVIoctrlSetWifiResp;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569482"><span lang=X-NONE>IOTYPE_USER_IPCAM_GETWIFI_REQ
(0x0344)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>No used since we have </span><span style='font-size:
11.0pt;font-family:"Courier New"'>SMsgAVIoctrlListWifiApReq().</span></p>

<p class=MsoTitle><a name="_Toc232569483"><span lang=X-NONE>IOTYPE_USER_IPCAM_GETWIFI_RESP
(0x0345)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt'><span
style='font-size:11.0pt;font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-size:11.0pt'>No used since we have
SMsgAVIoctrlListWifiApResp().</span></p>

<p class=MsoTitle><a name="_Toc232569484"><span lang=X-NONE>IOTYPE_USER_IPCAM_GETWIFI_RESP2
(0x0347)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt'><span
style='font-size:11.0pt;font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-size:11.0pt'>Same as</span><span lang=ZH-TW
style='font-size:11.0pt;font-family:"PMingLiU","serif"'>¡u</span><span
style='font-size:11.0pt'>IOTYPE_USER_IPCAM_GETWIFI_RESP</span><span lang=ZH-TW
style='font-size:11.0pt;font-family:"PMingLiU","serif"'>¡v¡A</span><span
style='font-size:11.0pt'>for 64bit password.</span><span lang=ZH-TW
style='font-size:12.0pt;font-family:"PMingLiU","serif"'>¡C</span></p>

<p class=MsoNormal><span style='font-size:12.0pt'>&nbsp;</span></p>

<p class=MsoTitle><a name="_Toc232569485"><span lang=X-NONE>IOTYPE_USER_IPCAM_SETRECORD_REQ
(0x0310)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from App to IPCamera</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>App requests IPCamera to set the record mode of
IPCamera.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=684 valign=top style='width:513.0pt;border:dotted gray 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  int channel;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Camera Index</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  int recordType;&nbsp;&nbsp;&nbsp;&nbsp; // Refer to ENUM_RECORD_TYPE</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char reserved[4];</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>}SMsgAVIoctrlSetRecordReq,
  SMsgAVIoctrlGetRecordResq;</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>typedef enum</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOTC_RECORDTYPE_OFF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x00,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOTC_RECORDTYPE_FULLTIME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x01,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOTC_RECORDTYPE_ALARM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x02,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOTC_RECORDTYPE_MANUAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x03,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>}ENUM_RECORD_TYPE;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569486"><span lang=X-NONE>IOTYPE_USER_IPCAM_SETRECORD_RESP
(0x0311)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message is sent from IPCamera to App.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>IPCamera responds the result to App for command&nbsp;
¡§</span><span style='font-size:11.0pt;font-family:"Courier New"'>IOTYPE_USER_IPCAM_SETRECORD_REQ</span><span
style='font-size:11.0pt'>¡¨.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl</span><span style='font-size:11.0pt;
font-family:"Courier New"'>:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=684 valign=top style='width:513.0pt;border:dotted gray 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; int
  result;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  // return 0 if success, otherwise return -1</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char reserved[4];</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>}SMsgAVIoctrlSetRecordResp;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569487"><span lang=X-NONE>IOTYPE_USER_IPCAM_GETRECORD_REQ
(0x0312)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from APP to IPCamera</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>App requests IPCamera to receive recording mode.</span></p>

<p class=MsoTitle><a name="_Toc232569488"><span lang=X-NONE>IOTYPE_USER_IPCAM_GETRECORD_RESP
(0x0313)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from IPCamera to App.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>IPCamera responds the result to App for command ¡§</span><span
style='font-size:11.0pt;font-family:"Courier New"'>IOTYPE_USER_IPCAM_GETRECORD_REQ</span><span
style='font-size:11.0pt'>¡¨.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=684 valign=top style='width:513.0pt;border:dotted gray 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned int
  channel;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Camera Index</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned int
  recordType;&nbsp;&nbsp;&nbsp;&nbsp; // Refer to </span><span
  style='font-size:9.0pt;font-family:"Courier New"'>ENUM_RECORD_TYPE</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned char reserved[4];</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}SMsgAVIoctrlSetRecordReq, SMsgAVIoctrlGetRecordResq;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>typedef enum</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOTC_RECORDTYPE_OFF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x00,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOTC_RECORDTYPE_FULLTIME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x01,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOTC_RECORDTYPE_ALARM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x02,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOTC_RECORDTYPE_MANUAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x03,</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}ENUM_RECORD_TYPE;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569489"><span lang=X-NONE>IOTYPE_USER_IPCAM_SETRCD_DURATION_REQ
(0x0314)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt'><span
style='font-size:11.0pt;font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-size:11.0pt'>No used.</span></p>

<p class=MsoTitle><a name="_Toc232569490"><span lang=X-NONE>IOTYPE_USER_IPCAM_SETRCD_DURATION_RESP
(0x0315)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt'><span
style='font-size:11.0pt;font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-size:11.0pt'>No used.</span></p>

<p class=MsoTitle><a name="_Toc232569491"><span lang=X-NONE>IOTYPE_USER_IPCAM_GETRCD_DURATION_REQ
(0x0316)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt'><span
style='font-size:11.0pt;font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-size:11.0pt'>No used.</span></p>

<p class=MsoTitle><a name="_Toc232569492"><span lang=X-NONE>IOTYPE_USER_IPCAM_GETRCD_DURATION_RESP
(0x0317)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt'><span
style='font-size:11.0pt;font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-size:11.0pt'>No used.</span></p>

<p class=MsoTitle><a name="_Toc232569493"><span lang=X-NONE>IOTYPE_USER_IPCAM_LISTEVENT_REQ
(0x0318)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from APP to IPCamera</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>App requests IPCamera to retrieve lists of event.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=684 valign=top style='width:513.0pt;border:dotted windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  int channel;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Camera Index</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; STimeDay
  stStartTime;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Search event from ...</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; STimeDay
  stEndTime;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // ... to (search
  event)</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char event;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // event type, refer to
  ENUM_EVENTTYPE</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char status;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 0x00: Recording file
  exists, Event unreaded</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  // 0x01: Recording file exists, Event readed</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  // 0x02: No Recording file in the event</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char reserved[2];</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>}SMsgAVIoctrlListEventReq;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569494"><span lang=X-NONE>IOTYPE_USER_IPCAM_LISTEVENT_RESP
(0x0319)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from IPCamera to App.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>IPCamera responds the result to APP for command ¡§</span><span
style='font-size:11.0pt;font-family:"Courier New"'>IOTYPE_USER_IPCAM_LISTEVENT_REQ</span><span
style='font-size:11.0pt'>¡¨.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>The result of this command might be very large, so the
transferring packets should be separated. Refer to following definition for
detail.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl</span><span style='font-size:11.0pt;
font-family:"Courier New"'>:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=684 valign=top style='width:513.0pt;border:dotted windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  int channel;&nbsp;&nbsp; // Camera Index</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  int total;&nbsp;&nbsp;&nbsp;&nbsp; // total events in this search session</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char index;&nbsp;&nbsp;&nbsp; // packet index, 0,1,2...</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
  avSendIOCtrl send max 1024 bytes one time;</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
  total events can be divided into x packages; x is 0,1,2...</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char endflag;&nbsp; // end flag = 1 means this packet is the last one, </span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  otherwise there are more packets to receive.</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char count;&nbsp;&nbsp;&nbsp; // how many events in this packet.</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char reserved[1];</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; SAvEvent
  stEvent[0]; &nbsp;&nbsp; //first address of all events in this package</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>}SMsgAVIoctrlListEventResp;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned short year;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned char month;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned char day;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned char wday;&nbsp;
  //Sunday = 0(maybe another value in other platform)</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned char hour;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned char minute;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned char second;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}STimeDay;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; STimeDay stTime;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned char
  event;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // refer to
  ENUM_EVENTTYPE</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned char
  status;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // unread = 0, read =
  1</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned char reserved[2];</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}SAvEvent;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>typedef enum </span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_EVENT_ALL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x00, // all event type</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_EVENT_MOTIONDECT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x01, // motion detect start</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_EVENT_VIDEOLOST&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x02, // video lost alarm</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_EVENT_IOALARM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x03, // IO alarm start</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_EVENT_MOTIONPASS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x04, // motion detect end</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_EVENT_VIDEORESUME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x05, // video resume</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_EVENT_IOALARMPASS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x06, // IO alarm end</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_EVENT_EXPT_REBOOT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x10, // system exception reboot</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_EVENT_SDFAULT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x11, // SDCard record exception</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}ENUM_EVENTTYPE;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569495"><span lang=X-NONE>IOTYPE_USER_IPCAM_RECORD_PLAYCONTROL
(0x031A)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from App to IPCamera</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>App requests IPCamera to playback the recorded video.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=635 valign=top style='width:476.0pt;border:dotted gray 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  int channel; // Camera Index</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  int command; // play record command, refer to ENUM_PLAYCONTROL.</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  int Param;&nbsp;&nbsp; // command param, that the user defined</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; STimeDay
  stTimeDay;&nbsp;&nbsp; // Event time from ListEvent</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char reserved[4];</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>} SMsgAVIoctrlPlayRecord;</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>typedef enum </span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_RECORD_PLAY_PAUSE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x00,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_RECORD_PLAY_STOP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x01,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New";color:#BFBFBF'>&nbsp;&nbsp;&nbsp; AVIOCTRL_RECORD_PLAY_STEPFORWARD&nbsp;&nbsp;&nbsp; =
  0x02,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New";color:#BFBFBF'>&nbsp;&nbsp;&nbsp; AVIOCTRL_RECORD_PLAY_STEPBACKWARD&nbsp;&nbsp; =
  0x03,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New";color:#BFBFBF'>&nbsp;&nbsp;&nbsp; AVIOCTRL_RECORD_PLAY_FORWARD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x04,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New";color:#BFBFBF'>&nbsp;&nbsp;&nbsp; AVIOCTRL_RECORD_PLAY_BACKWARD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x05,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New";color:#BFBFBF'>&nbsp;&nbsp;&nbsp; AVIOCTRL_RECORD_PLAY_SEEKTIME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x06,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_RECORD_PLAY_END&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x07,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_RECORD_PLAY_START&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x10,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>}ENUM_PLAYCONTROL;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt'><span
style='font-size:11.0pt;font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-size:11.0pt'>Instructions of ENUM_PLAYCONTROL</span><span
lang=ZH-TW style='font-size:11.0pt;font-family:"PMingLiU","serif"'>¡G</span></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-24.0pt'><span
style='font-family:Wingdings'>u<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-size:9.0pt;font-family:"Courier New"'>AVIOCTRL_RECORD_PLAY_START</span><span
lang=ZH-TW style='font-size:9.0pt;font-family:"PMingLiU","serif"'>¡G</span><span
style='font-size:9.0pt'>Call avServerStart() after IPCamera received this
instruction, and then choice an available IOTC channel ,together with same
account and password. App would use </span><span style='font-size:9.0pt;
font-family:"Courier New"'>the ne</span><span style='font-size:9.0pt'>w channel
to stream the video.</span></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-24.0pt'><span
style='font-family:Wingdings'>u<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-size:9.0pt;font-family:"Courier New"'>AVIOCTRL_RECORD_PLAY_PAUSE</span><span
lang=ZH-TW style='font-size:9.0pt;font-family:"PMingLiU","serif"'>¡G</span><span
style='font-size:9.0pt'>Pause the video streaming or resume to stream video.</span></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-24.0pt'><span
style='font-family:Wingdings'>u<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-size:9.0pt;font-family:"Courier New"'>AVIOCTRL_RECORD_PLAY_STOP</span><span
lang=ZH-TW style='font-size:9.0pt;font-family:"PMingLiU","serif"'>¡G</span><span
style='font-size:9.0pt'>Call avServerStop() to stop video streaming and close
the IOTC channel.</span></p>

<p class=MsoTitle><a name="_Toc232569496"><span lang=X-NONE>IOTYPE_USER_IPCAM_RECORD_PLAYCONTROL_RESP
(0x031B)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent to App from IPCamera.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>IPCamera responds the result to App for command ¡§</span><span
style='font-size:11.0pt;font-family:"Courier New"'>IOTYPE_USER_IPCAM_RECORD_PLAYCONTROL</span><span
style='font-size:11.0pt'>¡¨.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl</span><span style='font-size:11.0pt;
font-family:"Courier New"'>:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=635 valign=top style='width:476.0pt;border:dotted gray 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  int command;&nbsp;&nbsp; // play record command</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  int result; &nbsp;&nbsp; // depends on command</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char reserved[4];</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>} SMsgAVIoctrlPlayRecordResp</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt'><span
style='font-size:11.0pt;font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-size:11.0pt'>Notes for ENUM_PLAYCONTROL</span><span
lang=ZH-TW style='font-size:11.0pt;font-family:"PMingLiU","serif"'>¡G</span></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-24.0pt'><span
style='font-family:Wingdings'>u<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-size:9.0pt;font-family:"Courier New"'>AVIOCTRL_RECORD_PLAY_START</span><span
lang=ZH-TW style='font-size:9.0pt;font-family:"PMingLiU","serif"'>¡G</span><span
style='font-size:9.0pt'>Assign the IOTC channel for playback to result, and
responds to APP. App would use the ID of IOTC Channel for avClientStart(). In
addition,&nbsp; sends IOTYPE_USER_IPCAM_START() and
IOTYPE_USER_IPCAM_AUDIOSTART() to Camera by avSendIOCtrl()</span><span
lang=ZH-TW style='font-size:9.0pt;font-family:"PMingLiU","serif"'>¡A</span><span
style='font-size:9.0pt'>begin to receive video and audio stream.</span></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-24.0pt'><span
style='font-family:Wingdings'>u<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-size:9.0pt;font-family:"Courier New"'>AVIOCTRL_RECORD_PLAY_END</span><span
lang=ZH-TW style='font-size:9.0pt;font-family:"PMingLiU","serif"'>¡G</span><span
style='font-size:9.0pt'>IPCamera responds to App automatically if video was
finish.</span></p>

<p class=MsoTitle><a name="_Toc232569497"><span lang=X-NONE>IOTYPE_USER_IPCAM_</span></a><span
lang=X-NONE>SET</span><span lang=X-NONE>_</span><span lang=X-NONE>ENVIRONMENT_REQ</span><span
lang=X-NONE> (0x0</span><span lang=X-NONE>360</span><span lang=X-NONE>)</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from APP to IPCamera</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>App requests IPCamera to set the environment.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=684 valign=top style='width:513.0pt;border:dotted windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>typedef enum</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='text-indent:9.0pt;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>AVIOCTRL_ENVIRONMENT_INDOOR_50HZ
   = 0x00,</span></p>
  <p class=MsoNormal style='text-indent:9.0pt;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>AVIOCTRL_ENVIRONMENT_INDOOR_60HZ&nbsp; =
  0x01,</span></p>
  <p class=MsoNormal style='text-indent:9.0pt;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>AVIOCTRL_ENVIRONMENT_OUTDOOR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x02,</span></p>
  <p class=MsoNormal style='text-indent:9.0pt;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>AVIOCTRL_ENVIRONMENT_NIGHT&nbsp;&nbsp;&nbsp; =
  0x03,</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}ENUM_ENVIRONMENT_MODE;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='text-indent:9.0pt;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>unsigned int channel; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  // Camera Index</span></p>
  <p class=MsoNormal style='text-indent:9.0pt;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>unsigned char mode;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
  // refer to ENUM_ENVIRONMENT_MODE</span></p>
  <p class=MsoNormal style='text-indent:9.0pt;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>unsigned char reserved[3];</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}SMsgAVIoctrlSetEnvironmentReq;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569498"><span lang=X-NONE>IOTYPE_USER_IPCAM_</span></a><span
lang=X-NONE>SET</span><span lang=X-NONE>_</span><span lang=X-NONE>ENVIRONMENT_RESP</span><span
lang=X-NONE> (0x0</span><span lang=X-NONE>361</span><span lang=X-NONE>)</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from IPCamera to App.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>IPCamera responds the result to App for command&nbsp;
¡§</span><span style='font-size:11.0pt;font-family:"Courier New"'>IOTYPE_USER_IPCAM_SET_ENVIRONMENT_REQ</span><span
style='font-size:11.0pt'>¡¨.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=684 valign=top style='width:513.0pt;border:dotted windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned int channel; &nbsp; //
  Camera Index</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned char result;&nbsp;&nbsp; //
  0: success; otherwise: failed.</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned char reserved[3];</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}SMsgAVIoctrlSetEnvironmentResp;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569499"><span lang=X-NONE>IOTYPE_USER_IPCAM_</span></a><span
lang=X-NONE>GET</span><span lang=X-NONE>_</span><span lang=X-NONE>ENVIRONMENT_REQ</span><span
lang=X-NONE> (0x0</span><span lang=X-NONE>362</span><span lang=X-NONE>)</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be send from APP to IPCamera.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>App requests IPCamera to retrieve the environment
setting.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span lang=X-NONE style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=684 valign=top style='width:513.0pt;border:dotted windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='layout-grid-mode:char'><span lang=X-NONE
  style='font-size:9.0pt;font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span lang=X-NONE
  style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span lang=X-NONE
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  int channel; &nbsp; // Camera Index</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span lang=X-NONE
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char reserved[4];</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span lang=X-NONE
  style='font-size:9.0pt;font-family:"Courier New"'>}SMsgAVIoctrlGetEnvironmentReq;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569500"><span lang=X-NONE>IOTYPE_USER_IPCAM_</span></a><span
lang=X-NONE>GET</span><span lang=X-NONE>_</span><span lang=X-NONE>ENVIRONMENT_RESP</span><span
lang=X-NONE> (0x0</span><span lang=X-NONE>363</span><span lang=X-NONE>)</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from IPCamera to App.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>IPCamera responds the result to App for command&nbsp;
¡§</span><span style='font-size:11.0pt;font-family:"Courier New"'>IOTYPE_USER_IPCAM_GET_ENVIRONMENT_REQ</span><span
style='font-size:11.0pt'>¡¨.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=684 valign=top style='width:513.0pt;border:dotted windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>typedef enum</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='text-indent:.25in;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>AVIOCTRL_ENVIRONMENT_INDOOR_50HZ
  &nbsp;&nbsp;&nbsp; = 0x00,</span></p>
  <p class=MsoNormal style='text-indent:.25in;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>AVIOCTRL_ENVIRONMENT_INDOOR_60HZ =
  0x01,</span></p>
  <p class=MsoNormal style='text-indent:.25in;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>AVIOCTRL_ENVIRONMENT_OUTDOOR&nbsp;&nbsp;&nbsp;&nbsp; =
  0x02,</span></p>
  <p class=MsoNormal style='text-indent:.25in;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>AVIOCTRL_ENVIRONMENT_NIGHT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;
  = 0x03,</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}ENUM_ENVIRONMENT_MODE;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'>&nbsp;</p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned int channel; &nbsp; //
  Camera Index</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned char mode;&nbsp;&nbsp;&nbsp;&nbsp; //
  refer to ENUM_ENVIRONMENT_MODE</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned char reserved[3];</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}SMsgAVIoctrlGetEnvironmentResp;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569501"><span lang=X-NONE>IOTYPE_USER_IPCAM_</span></a><span
lang=X-NONE>SET</span><span lang=X-NONE>_</span><span lang=X-NONE>VIDEOMODE_REQ</span><span
lang=X-NONE> (0x0</span><span lang=X-NONE>370</span><span lang=X-NONE>)</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from APP to IPCamera</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>App requests IPCamera to retrieve video mode setting.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=684 valign=top style='width:513.0pt;border:dotted windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>typedef enum</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_VIDEOMODE_NORMAL &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x00,</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_VIDEOMODE_FLIP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x01, // vertical flip</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_VIDEOMODE_MIRROR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x02, // horizontal flip</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_VIDEOMODE_FLIP_MIRROR &nbsp;&nbsp;&nbsp;&nbsp; =
  0x03, // vertical &amp; horizontal flip</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}ENUM_VIDEO_MODE;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='text-indent:.25in;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>unsigned int channel;&nbsp;&nbsp;&nbsp; &nbsp;
  // Camera Index</span></p>
  <p class=MsoNormal style='text-indent:.25in;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>unsigned char mode;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  // refer to ENUM_VIDEO_MODE</span></p>
  <p class=MsoNormal style='text-indent:.25in;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>unsigned char reserved[3];</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}SMsgAVIoctrlSetVideoModeReq;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569502"><span lang=X-NONE>IOTYPE_USER_IPCAM_</span></a><span
lang=X-NONE>SET</span><span lang=X-NONE>_</span><span lang=X-NONE>VIDEOMODE_RESP</span><span
lang=X-NONE> (0x0</span><span lang=X-NONE>371</span><span lang=X-NONE>)</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from IPCamera to App.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>IPCamera responds the result to App for command ¡§</span><span
style='font-size:11.0pt;font-family:"Courier New"'>IOTYPE_USER_IPCAM_SET_VIDEOMODE_REQ</span><span
style='font-size:11.0pt'>¡¨.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=684 valign=top style='width:513.0pt;border:dotted windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned int channel; &nbsp; &nbsp;//
  Camera Index</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned char result;&nbsp;&nbsp; 
  // 0: success; otherwise: failed.</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned char reserved[3];</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}SMsgAVIoctrlSetVideoModeResp;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569503"><span lang=X-NONE>IOTYPE_USER_IPCAM_</span></a><span
lang=X-NONE>GET</span><span lang=X-NONE>_</span><span lang=X-NONE>VIDEOMODE_REQ</span><span
lang=X-NONE> (0x0</span><span lang=X-NONE>372</span><span lang=X-NONE>)</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from APP to IPCamera.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>App requests IPCamera to retrieve the video mode
setting.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=684 valign=top style='width:513.0pt;border:dotted windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned int channel; &nbsp; &nbsp;//
  Camera Index</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned char reserved[4];</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}SMsgAVIoctrlGetVideoModeReq;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569504"><span lang=X-NONE>IOTYPE_USER_IPCAM_</span></a><span
lang=X-NONE>GET</span><span lang=X-NONE>_</span><span lang=X-NONE>VIDEOMODE_RESP</span><span
lang=X-NONE> (0x0</span><span lang=X-NONE>373</span><span lang=X-NONE>)</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from IPCamera to App.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>IPCamera responds the result to App.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=684 valign=top style='width:513.0pt;border:dotted windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>typedef enum</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_VIDEOMODE_NORMAL &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x00,</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_VIDEOMODE_FLIP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x01, // vertical flip</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_VIDEOMODE_MIRROR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
  0x02, // horizontal flip</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_VIDEOMODE_FLIP_MIRROR &nbsp;&nbsp;&nbsp;&nbsp; =
  0x03, // vertical &amp; horizontal flip</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}ENUM_VIDEO_MODE;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned int&nbsp; channel;  //
  Camera Index</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned char mode;&nbsp;&nbsp;&nbsp;&nbsp; //
  refer to ENUM_VIDEO_MODE</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned char reserved[3];</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}SMsgAVIoctrlGetVideoModeResp;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569505"><span lang=X-NONE>IOTYPE_USER_IPCAM_</span></a><span
lang=X-NONE>FORMATEXTSTORAGE_REQ</span><span lang=X-NONE> (0x0</span><span
lang=X-NONE>380</span><span lang=X-NONE>)</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from APP to IPCamera.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>App requests IPCamera to format the storage.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Should be worked with AVAPI Service Type.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=684 valign=top style='width:513.0pt;border:dotted windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned int storage; //
  Storage index (ex. sdcard slot = 0, internal flash = 1, ...)</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned char reserved[4];</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}SMsgAVIoctrlFormatExtStorageReq;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569506"><span lang=X-NONE>IOTYPE_USER_IPCAM_</span></a><span
lang=X-NONE>FORMATEXTSTORAGE_RESP</span><span lang=X-NONE> (0x0</span><span
lang=X-NONE>381</span><span lang=X-NONE>)</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>IPCamera sends to App.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>IPCamera responds the result to App.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=684 valign=top style='width:513.0pt;border:dotted windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned int&nbsp; storage;  &nbsp;&nbsp;//
  Storage index</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; char result;&nbsp;&nbsp;&nbsp; &nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// 0: success;</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  // -1: format command is not supported.</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  // otherwise: failed.</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned char reserved[3];</span></p>
  <p class=MsoNormal style='layout-grid-mode:char'><span style='font-size:9.0pt;
  font-family:"Courier New"'>}SMsgAVIoctrlFormatExtStorageResp;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569507"><span lang=X-NONE>IOTYPE_USER_IPCAM_GET_EVENTCONFIG_REQ
(0x0400)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt'><span
style='font-size:11.0pt;font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-size:11.0pt'>No used.</span></p>

<p class=MsoTitle><a name="_Toc232569508"><span lang=X-NONE>IOTYPE_USER_IPCAM_GET_EVENTCONFIG_RESP
(0x0401)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt'><span
style='font-size:11.0pt;font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-size:11.0pt'>No used.</span></p>

<p class=MsoTitle><a name="_Toc232569509"><span lang=X-NONE>IOTYPE_USER_IPCAM_SET_EVENTCONFIG_REQ
(0x0402)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt'><span
style='font-size:11.0pt;font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-size:11.0pt'>No used.</span></p>

<p class=MsoTitle><a name="_Toc232569510"><span lang=X-NONE>IOTYPE_USER_IPCAM_SET_EVENTCONFIG_RESP</span><span
lang=X-NONE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></a><span lang=X-NONE>
(0x0403)</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt'><span
style='font-size:11.0pt;font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-size:11.0pt'>No used.</span></p>

<p class=MsoTitle><a name="_Toc232569511"><span lang=X-NONE>IOTYPE_USER_IPCAM_PTZ_COMMAND
(0x1001)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from APP to IPCamera</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>App requests IPCamera to control PT.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=684 valign=top style='width:513.0pt;border:dotted gray 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char control;&nbsp; // ptz control command, refer to ENUM_PTZCMD.</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char speed;&nbsp;&nbsp;&nbsp; // ptz control speed</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char point;&nbsp;&nbsp;&nbsp; // no use in app</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char limit;&nbsp;&nbsp;&nbsp; // no use in app</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char aux;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // no use in app</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char channel;&nbsp; // camera index</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char reserve[2];</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>} SMsgAVIoctrlPtzCmd;</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>/* AVIOCTRL PTZ Command
  Value */</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>typedef enum </span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_PTZ_STOP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  = 0,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_PTZ_UP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  = 1,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_PTZ_DOWN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  = 2,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_PTZ_LEFT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  = 3,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_PTZ_LEFT_UP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  = 4,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_PTZ_LEFT_DOWN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  = 5,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_PTZ_RIGHT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  = 6, </span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_PTZ_RIGHT_UP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  = 7, </span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_PTZ_RIGHT_DOWN&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  = 8, </span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_PTZ_AUTO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  = 9, </span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_PTZ_SET_POINT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  = 10,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_PTZ_CLEAR_POINT&nbsp;&nbsp;&nbsp; &nbsp;
  = 11,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_PTZ_GOTO_POINT&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  = 12,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_PTZ_SET_MODE_START &nbsp;
  = 13,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_PTZ_SET_MODE_STOP&nbsp; &nbsp;
  = 14,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; </span><span
  lang=FR-CA style='font-size:9.0pt;font-family:"Courier New"'>AVIOCTRL_PTZ_MODE_RUN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  = 15,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  lang=FR-CA style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_PTZ_MENU_OPEN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  = 16, </span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  lang=FR-CA style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_PTZ_MENU_EXIT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  = 17,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  lang=FR-CA style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_PTZ_MENU_ENTER&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  = 18,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  lang=FR-CA style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_PTZ_FLIP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  = 19,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  lang=FR-CA style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_PTZ_START&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  = 20,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  lang=FR-CA style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_LENS_APERTURE_OPEN &nbsp;
  = 21,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  lang=FR-CA style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_LENS_APERTURE_CLOSE
  = 22,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  lang=FR-CA style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_LENS_ZOOM_IN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  = 23, </span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  lang=FR-CA style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_LENS_ZOOM_OUT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  = 24,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  lang=FR-CA style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_LENS_FOCAL_NEAR&nbsp;&nbsp;&nbsp; &nbsp;
  = 25,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  lang=FR-CA style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; </span><span
  style='font-size:9.0pt;font-family:"Courier New"'>AVIOCTRL_LENS_FOCAL_FAR&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  = 26,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_AUTO_PAN_SPEED&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  = 27,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_AUTO_PAN_LIMIT&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  = 28,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_AUTO_PAN_START&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  = 29,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_PATTERN_START&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  = 30,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_PATTERN_STOP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  = 31,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_PATTERN_RUN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  = 32,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_SET_AUX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  = 33,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_CLEAR_AUX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  = 34,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; AVIOCTRL_MOTOR_RESET_POSITION=
  35,</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>}ENUM_PTZCMD;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569512"><span lang=X-NONE>IOTYPE_USER_IPCAM_EVENT_REPORT
(0x1FFF)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from IPCamera to App.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Send notification to App if IPCamera triggered an
event.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Sturcture of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=684 valign=top style='width:513.0pt;border:dotted gray 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; STimeDay
  stTime;</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  long time; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;// UTC Time</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  int channel; &nbsp; &nbsp;&nbsp;&nbsp;// Camera Index</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  int event; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;// Event Type, refer to
  ENUM_EVENTTYPE. Event start status</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  char reserved[4];</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>} SMsgAVIoctrlEvent</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:45.0pt;layout-grid-mode:char'>&nbsp;</p>

<p class=MsoTitle><a name="_Toc232569513"><span lang=X-NONE>IOTYPE_USER_IPCAM_GETAUDIOOUTFORMAT_REQ
(0x32A)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from App to IPCamera.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>App requests IPCamera the supported audio format, for
App to decide the audio decoder.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=635 valign=top style='width:476.0pt;border:dotted gray 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  int channel;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // camera index</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; char
  reserved[4];</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>}SMsgAVIoctrlGetAudioOutFormatReq;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569514"><span lang=X-NONE>IOTYPE_USER_IPCAM_GETAUDIOOUTFORMAT_RESP
(0x32B)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from IPCamera to App.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>IPCamera responds the result to App with the audio
encode format.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=635 valign=top style='width:476.0pt;border:dotted gray 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  int channel;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // camera index</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; int
  format;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
  refer to ENUM_CODECID in AVFRAMEINFO.h</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; char
  reserved[4];</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>}SMsgAVIoctrlGetAudioOutFormatResp;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569515"><span lang=X-NONE>IOTYPE_USER_IPCAM_RECEIVE_FIRST_IFRAME
(0x1002)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from App to IPCamera.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>APP notifies IPCamera while receiving first I-Frame.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=635 valign=top style='width:476.0pt;border:dotted gray 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>typedef struct</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  int channel;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // camera index</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; char
  reserved[4];</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>}SMsgAVIoctrlReceiveFirstIFrame;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle><a name="_Toc232569516"><span lang=X-NONE>IOTYPE_USER_IPCAM_GET_FLOWINFO_REQ
(0x390)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from IPCamera to App.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>IPCamera notifies App to collect the status of frames
receiving in seconds by collect_interval.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=635 valign=top style='width:476.0pt;border:dotted gray 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>typedef structure</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  int channel;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
  camera index</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  int collect_interval&nbsp;&nbsp; //seconds of interval to collect frame
  information</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>}SMsgAVIoctrlGetFlowInfoReq;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:.25in;margin-right:0in;
margin-bottom:3.0pt;margin-left:0in;text-align:left'><span lang=X-NONE
style='font-size:14.0pt;color:red'>IOTYPE_USER_IPCAM_GET_FLOWINFO_RESP (0x391)</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from App to IPCamera.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>App responds to Camera the command is received and
beginning to collect data.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=635 valign=top style='width:476.0pt;border:dotted gray 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>typedef structure</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  int channel;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
  camera index</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  int collect_interval&nbsp;&nbsp; // seconds of interval client will collect
  frame </span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  // information</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>}SMsgAVIoctrlGetFlowInfoResp;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:.25in;margin-right:0in;
margin-bottom:3.0pt;margin-left:0in;text-align:left'><span lang=X-NONE
style='font-size:14.0pt;color:red'>IOTYPE_USER_IPCAM_CURRENT_FLOWINFO (0x392)</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>This message should be sent from App to IPCamera.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>App responds the result to IPCamera for command ¡§</span><span
style='font-family:"Courier New"'>IOTYPE_USER_IPCAM_GET_FLOWINFO_REQ¡¨.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=635 valign=top style='width:476.0pt;border:dotted gray 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>typedef structure</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  int channel;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  // camera index</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  int total_frame_count;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
  Total frame count in the specified &nbsp;&nbsp;</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  // interval</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  int lost_incomplete_frame_count;&nbsp;&nbsp; // Total lost and incomplete
  frame count &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;// in the specified interval</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  int total_expected_frame_size; // Total expected frame size from &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//
  avRecvFrameData2()</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  int total_actual_frame_size;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Total
  actual frame size from </span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  // avRecvFrameData2()</span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; unsigned
  int timestamp_ms;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
  Timestamp in millisecond of this </span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  //report.</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; char
  reserved[8]; </span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>}SMsgAVIoctrlCurrentFlowInfo;</span></p>
  </td>
 </tr>
</table>

<p class=MsoTitle style='line-height:12.0pt'><a name="_Toc232569517"><span
lang=X-NONE>IOTYPE_USER_IPCAM_GET_TIMEZONE_REQ (0x3A0)<br>
IOTYPE_USER_IPCAM_GET_TIMEZONE_RESP (0x3A1)<br>
IOTYPE_USER_IPCAM_SET_TIMEZONE_REQ (0x3B0)<br>
IOTYPE_USER_IPCAM_SET_TIMEZONE_RESP (0x3B1)</span></a></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>IPCamera responds to IPCamera.</span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoListParagraph align=left style='margin-left:51.9pt;text-align:left;
text-indent:-30.9pt;line-height:14.0pt;text-autospace:none'><span
style='font-size:11.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:11.0pt'>App</span><span style='font-size:
11.0pt'> sends </span><span style='font-size:11.0pt;color:#0F7403'>IOTYPE_USER_IPCAM_GET_TIMEZONE_REQ</span><span
style='font-size:11.0pt'> to IP</span><span style='font-size:11.0pt'>Camera</span><span
style='font-size:11.0pt'> after successfully connects to IPCamera.</span></p>

<p class=MsoListParagraph align=left style='margin-left:51.9pt;text-align:left;
text-indent:-30.9pt;line-height:14.0pt;text-autospace:none'><span
style='font-size:11.0pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:11.0pt'>IPCamera responds the time zone
setting to APP by </span><span style='font-size:11.0pt;color:#0F7403'>IOTYPE_USER_IPCAM_GET_TIMEZONE_RESP</span><span
style='font-size:11.0pt'>, and then APP updates the time-zone.</span></p>

<p class=MsoListParagraph align=left style='margin-left:51.9pt;text-align:left;
text-indent:-30.9pt;line-height:14.0pt;text-autospace:none'><span
style='font-size:11.0pt'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:11.0pt'>App</span><span style='font-size:
11.0pt'> notifies IPCamera by </span><span style='font-size:11.0pt'>&nbsp;</span><span
style='font-size:11.0pt;color:#0F7403'>IOTYPE_USER_IPCAM_SET_TIMEZONE_REQ</span><span
style='font-size:11.0pt'>&nbsp; to changes </span><span style='font-size:11.0pt'>time
zone setting</span></p>

<p class=MsoListParagraph align=left style='margin-left:51.9pt;text-align:left;
text-indent:-30.9pt;line-height:14.0pt;text-autospace:none'><span
style='font-size:12.0pt;font-family:"Helvetica","sans-serif"'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:11.0pt'>IPCamers responds to App by </span><span
style='font-size:11.0pt;color:#0F7403'>IOTYPE_USER_IPCAM_SET_TIMEZONE_RESP&nbsp;</span><span
style='font-size:11.0pt'>and then APP confirms the setting is completed.</span></p>

<p class=MsoNormal style='margin-left:45.0pt;text-indent:-24.0pt;layout-grid-mode:
char'><span style='font-size:11.0pt;font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-size:11.0pt'>Structure of IOCtrl:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:45.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=635 valign=top style='width:476.0pt;border:dotted gray 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New";color:#E647DE'>typedef
  structure</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>{</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; <span
  style='color:#E647DE'>int</span> cbSize;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
  style='color:green'>// the following package size in bytes,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
  should be sizeof(SMsgAVIoctrlTimeZone)</span></span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; <span
  style='color:#E647DE'>int</span> nIsSupportTimeZone;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
  style='color:green'>// device is support TimeZone or not, , 1: </span></span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New";color:green'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Supported, 0: Unsupported.</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; <span
  style='color:#E647DE'>int</span> nGMTDiff;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
  style='color:green'>// the difference between GMT in hours</span></span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;&nbsp;&nbsp; <span
  style='color:#E647DE'>char</span> szTimeZoneString[<span style='color:blue'>256</span>];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
  style='color:green'>// the timezone description string in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
  multi-bytes char format</span></span></p>
  <p class=MsoNormal align=left style='text-align:left;layout-grid-mode:char'><span
  style='font-size:9.0pt;font-family:"Courier New"'>}</span><span
  style='font-size:11.0pt;font-family:"Menlo Regular"'> </span><span
  style='font-size:9.0pt;font-family:"Courier New"'>SMsgAVIoctrlTimeZone;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

</div>

</body>

</html>
